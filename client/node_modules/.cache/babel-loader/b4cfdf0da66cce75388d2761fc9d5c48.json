{"ast":null,"code":"import { ADD_TO_CART, GET_NUMBERS_BASKET, INCREASE_QUANTITY, DECREASE_QUANTITY, CLEAR_PRODUCT } from '../actions/types';\nconst initialState = {\n  cart: 0,\n  cartPrice: 0,\n  products: {\n    moong: {\n      name: \"Harry Potter\",\n      price: 12.00,\n      category: \"fiction\",\n      numbers: 0,\n      inCart: false\n    },\n    sunflower: {\n      name: \"Game of Thrones\",\n      price: 7.00,\n      category: \"fiction\",\n      numbers: 0,\n      inCart: false\n    },\n    kabuli: {\n      name: \"Furiously Happy\",\n      price: 8.00,\n      category: \"non-fiction\",\n      numbers: 0,\n      inCart: false\n    },\n    soyachunks: {\n      name: \"Love roises\",\n      price: 9.00,\n      category: \"non-fiction\",\n      numbers: 0,\n      inCart: false\n    }\n  }\n};\nexport default ((state = initialState, action) => {\n  let productSelected = \"\";\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      productSelected = { ...state.products[action.payload]\n      };\n      productSelected.numbers += 1;\n      productSelected.inCart = true;\n      return { ...state,\n        cart: state.cart + 1,\n        cartPrice: state.cartPrice + state.products[action.payload].price,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    case GET_NUMBERS_BASKET:\n      return { ...state\n      };\n\n    case INCREASE_QUANTITY:\n      productSelected = { ...state.products[action.payload]\n      };\n      productSelected.numbers += 1;\n      return { ...state,\n        cart: state.cart + 1,\n        cartPrice: state.cartPrice + state.products[action.payload].price,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    case DECREASE_QUANTITY:\n      productSelected = { ...state.products[action.payload]\n      };\n      let newCartPrice = 0;\n      let newCartNumbers = 0;\n\n      if (productSelected.numbers === 0) {\n        productSelected.numbers = 0;\n        newCartPrice = state.cartPrice;\n        newCartNumbers = state.cart;\n      } else {\n        productSelected.numbers -= 1;\n        newCartPrice = state.cartPrice - state.products[action.payload].price;\n        newCartNumbers = state.cart - 1;\n      }\n\n      return { ...state,\n        cart: newCartNumbers,\n        cartPrice: newCartPrice,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    case CLEAR_PRODUCT:\n      productSelected = { ...state.products[action.payload]\n      };\n      let numbersBackup = productSelected.numbers;\n      productSelected.numbers = 0;\n      productSelected.inCart = false;\n      return { ...state,\n        cartPrice: state.cartPrice - numbersBackup * productSelected.price,\n        cart: state.cart - numbersBackup,\n        products: { ...state.products,\n          [action.payload]: productSelected\n        }\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/margohoang/Desktop/final/client/src/reducers/productReducer.js"],"names":["ADD_TO_CART","GET_NUMBERS_BASKET","INCREASE_QUANTITY","DECREASE_QUANTITY","CLEAR_PRODUCT","initialState","cart","cartPrice","products","moong","name","price","category","numbers","inCart","sunflower","kabuli","soyachunks","state","action","productSelected","type","payload","newCartPrice","newCartNumbers","numbersBackup"],"mappings":"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","sourcesContent":["import { ADD_TO_CART, GET_NUMBERS_BASKET, INCREASE_QUANTITY, DECREASE_QUANTITY, CLEAR_PRODUCT } from '../actions/types';\n\nconst initialState = {\n    cart: 0,\n    cartPrice: 0,\n    products: {\n        moong: {\n            name: \"Harry Potter\",\n            price: 12.00,\n            category: \"fiction\",\n            numbers: 0,\n            inCart: false\n        },\n        sunflower: {\n            name: \"Game of Thrones\",\n            price: 7.00,\n            category: \"fiction\",\n            numbers: 0,\n            inCart: false\n        },\n        kabuli: {\n            name: \"Furiously Happy\",\n            price: 8.00,\n            category: \"non-fiction\",\n            numbers: 0,\n            inCart: false\n        },\n        soyachunks: {\n            name: \"Love roises\",\n            price: 9.00,\n            category: \"non-fiction\",\n            numbers: 0,\n            inCart: false\n        }\n    }\n}\n\nexport default (state = initialState, action) => {\n    let productSelected = \"\";\n    switch (action.type) {\n        case ADD_TO_CART:\n            productSelected = { ...state.products[action.payload] }\n            productSelected.numbers += 1;\n            productSelected.inCart = true;\n\n            return {\n                ...state,\n                cart: state.cart + 1,\n                cartPrice: state.cartPrice + state.products[action.payload].price,\n                products: {\n                    ...state.products,\n                    [action.payload]: productSelected\n                }\n            }\n        case GET_NUMBERS_BASKET:\n            return {\n                ...state\n            }\n\n        case INCREASE_QUANTITY:\n            productSelected = { ...state.products[action.payload] }\n            productSelected.numbers += 1;\n            return {\n                ...state,\n                cart: state.cart +1 ,\n                cartPrice: state.cartPrice + state.products[action.payload].price,\n                products: {\n                    ...state.products,\n                    [action.payload]: productSelected\n                }\n            }\n\n        case DECREASE_QUANTITY:\n            productSelected = { ...state.products[action.payload] }\n            let newCartPrice = 0;\n            let newCartNumbers = 0;\n            if (productSelected.numbers === 0) {\n                productSelected.numbers = 0\n                newCartPrice = state.cartPrice\n                newCartNumbers = state.cart\n            }\n            else {\n                productSelected.numbers -= 1;\n                newCartPrice = state.cartPrice - state.products[action.payload].price\n                newCartNumbers = state.cart - 1\n            }\n            return {\n                ...state,\n                cart: newCartNumbers ,\n                cartPrice: newCartPrice,\n                products: {\n                    ...state.products,\n                    [action.payload]: productSelected\n                }\n            }\n\n        case CLEAR_PRODUCT:\n            productSelected = { ...state.products[action.payload] };\n            let numbersBackup = productSelected.numbers;\n            productSelected.numbers = 0 ;\n            productSelected.inCart = false\n            return {\n                ...state,\n                cartPrice: state.cartPrice - (numbersBackup * productSelected.price),\n                cart: state.cart - numbersBackup,\n                products: {\n                    ...state.products,\n                    [action.payload]: productSelected\n                }\n            }\n\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}